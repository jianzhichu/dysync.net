# dysync.net - æŠ–éŸ³åŒæ­¥å·¥å…·ï¼ˆæŠ–å°äº‘ï¼‰

`dysync.net` æ˜¯ä¸€æ¬¾åŸºäº **.NET Core 6.0** å’Œ **Vue** å¼€å‘çš„å·¥å…·ï¼Œç”¨äºåŒæ­¥æŠ–éŸ³æ”¶è—å¤¹ã€ã€Œæˆ‘å–œæ¬¢ã€çš„è§†é¢‘åŠæŒ‡å®šåšä¸»ä½œå“ï¼Œè§£å†³ä¸ªäººæ”¶è—è§†é¢‘æ˜“å¤±æ•ˆçš„é—®é¢˜ã€‚æ”¯æŒå¤šè´¦å·åŒæ­¥ï¼Œå†…ç½®è§†é¢‘ä¿¡æ¯åˆ®å‰ŠåŠŸèƒ½ï¼ŒåŒæ­¥åçš„è§†é¢‘å¯ç›´æ¥åœ¨ Emby æˆ– Jellyfin ä¸­æ’­æ”¾ã€‚

> ğŸ”§ é—®é¢˜åé¦ˆï¼šä½¿ç”¨ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æ·»åŠ  QQï¼š279225040 å’¨è¯¢

---

### ğŸ“º Emby æ’­æ”¾æ•ˆæœé¢„è§ˆ
![Embyæ’­æ”¾æ•ˆæœ](docs/emby.png)

---

## ğŸ“Œ 1. è·å–æŠ–éŸ³å…³é”®ä¿¡æ¯ï¼ˆå¿…åšï¼åŒæ­¥æ ¸å¿ƒå‡­è¯ï¼‰
Cookie åŠ `sec_user_id` æ˜¯åŒæ­¥åŠŸèƒ½çš„æ ¸å¿ƒï¼Œéœ€ä¸¥æ ¼æŒ‰æ­¥éª¤è·å–ï¼Œé¿å…é—æ¼æˆ–é”™è¯¯ã€‚

### 1.1 æå–æŠ–éŸ³ Cookie
1. æ‰“å¼€ **æŠ–éŸ³ç½‘é¡µç‰ˆ** (https://www.douyin.com/) å¹¶ç™»å½•ç›®æ ‡è´¦å·ï¼›
2. è¿›å…¥ã€Œæˆ‘çš„æ”¶è—ã€é¡µé¢ï¼Œç¡®ä¿é¡µé¢åŠ è½½å®Œæˆï¼›
3. æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨ã€Œå¼€å‘è€…å·¥å…·ã€ï¼Œåˆ‡æ¢åˆ°ã€ŒNetwork (ç½‘ç»œ)ã€æ ‡ç­¾ï¼›
4. åˆ·æ–°é¡µé¢ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥ `v1/web/aweme/listcollection` ç­›é€‰è¯·æ±‚ï¼›
5. ç‚¹å‡»ä»»æ„ä¸€æ¡ç­›é€‰ç»“æœï¼Œåœ¨å³ä¾§ã€ŒHeaders (æ ‡å¤´)ã€ä¸­æ‰¾åˆ° `Cookie` å­—æ®µï¼Œ**å®Œæ•´å¤åˆ¶æ•´æ®µå†…å®¹**ï¼ˆä¸å¯åˆ å‡å­—ç¬¦ï¼‰ã€‚

![è·å–Cookieæ­¥éª¤](docs/getcookies.png)
![æå–ä¸ªäººsec_user_id](docs/secUserId.png)

### 1.2 æå– `sec_user_id`ï¼ˆä¸ªäºº/æŒ‡å®šåšä¸»ï¼‰
- **ä¸ªäºº sec_user_id**ï¼ˆåŒæ­¥è‡ªå·±çš„æ”¶è—/å–œæ¬¢ç”¨ï¼‰ï¼š  
  è¿›å…¥è‡ªå·±çš„æŠ–éŸ³ä¸»é¡µï¼Œæµè§ˆå™¨åœ°å€æ ä¸­ `sec_user_id=` åçš„å­—ç¬¦ä¸²å³ä¸ºä¸ªäºº IDï¼ˆå¦‚ `https://www.douyin.com/user/sec_user_id=xxx`ï¼‰ã€‚
- **åšä¸» sec_user_id**ï¼ˆåŒæ­¥æŒ‡å®šåšä¸»ä½œå“ç”¨ï¼‰ï¼š  
  1. è¿›å…¥ç›®æ ‡åšä¸»ä¸»é¡µï¼›  
  2. æ–¹å¼1ï¼šç›´æ¥å¤åˆ¶åœ°å€æ ä¸­ `user/` åˆ°  `?from_tab_name`ä¸­é—´éƒ¨åˆ†å†…å®¹å³æ˜¯åšä¸»çš„ `sec_user_id`ï¼›  
  3. æ–¹å¼2ï¼šæŒ‰ `F12` â†’ ã€ŒNetworkã€â†’ ä»»æ„è¯·æ±‚ â†’ ã€ŒHeadersã€â†’ æå– `sec_user_id` å­—æ®µå€¼ã€‚

> âš ï¸ é£æ§æç¤ºï¼šåŒæ­¥åšä¸»ä½œå“æ—¶ï¼Œ**æ…ç”¨å¼€å¯å…¨é‡åŒæ­¥**ï¼ˆä¸€æ¬¡æ€§ä¸‹è½½è¿‡å¤šæ˜“è¢«æŠ–éŸ³é™åˆ¶è®¿é—®ï¼‰ã€‚

![æå–åšä¸»sec_user_id](docs/upers-uid.png)

---

## ğŸ“ 2. è·¯å¾„æ˜ å°„è§„åˆ™ï¼ˆæ ¸å¿ƒï¼é”™é…ä¼šå¯¼è‡´æ— æ³•è®¿é—®/æ•°æ®ä¸¢å¤±ï¼‰
ä¸ºå®ç°è§†é¢‘åœ¨ Emby/Jellyfin ä¸­æ­£å¸¸æ’­æ”¾åŠæ•°æ®æŒä¹…åŒ–ï¼Œéœ€æ­£ç¡®é…ç½®æœ¬åœ°è·¯å¾„ä¸å®¹å™¨è·¯å¾„çš„æ˜ å°„ï¼š

| å­˜å‚¨ç±»å‹         | å®¹å™¨å†…è·¯å¾„       | æœ¬åœ°è·¯å¾„é…ç½®è¦æ±‚                                                                 | ç”¨é€”è¯´æ˜                     |
|------------------|------------------|----------------------------------------------------------------------------------|------------------------------|
| ä¸ªäººæ”¶è—è§†é¢‘     | `/app/collect`   | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ NASï¼š`/volume1/æŠ–éŸ³/æ”¶è—`ã€ç”µè„‘ï¼š`D:/æŠ–éŸ³/æ”¶è—`ï¼‰             | å­˜å‚¨åŒæ­¥åçš„æ”¶è—è§†é¢‘         |
| ä¸ªäººå–œæ¬¢è§†é¢‘     | `/app/favorite`  | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå»ºè®®ä¸æ”¶è—è§†é¢‘è·¯å¾„åŒºåˆ†ï¼Œå¦‚ `/volume1/æŠ–éŸ³/å–œæ¬¢`ï¼‰                 | å­˜å‚¨åŒæ­¥åçš„ã€Œæˆ‘å–œæ¬¢ã€è§†é¢‘   |
| æŒ‡å®šåšä¸»è§†é¢‘     | `/app/uper`      | æ˜ å°„åˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/åšä¸»ä½œå“`ï¼‰                                     | å­˜å‚¨åŒæ­¥åçš„åšä¸»è§†é¢‘         |
| æ•°æ®åº“æ–‡ä»¶       | `/app/db`        | æ˜ å°„åˆ°æœ¬åœ°ç¨³å®šç›®å½•ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/å·¥å…·æ•°æ®åº“`ï¼‰                               | æŒä¹…åŒ–é…ç½®ã€åŒæ­¥è®°å½•ï¼ˆé˜²æ­¢å®¹å™¨åˆ é™¤åæ•°æ®ä¸¢å¤±ï¼‰ |
| å¤šè´¦å·è§†é¢‘ï¼ˆå¯é€‰ï¼‰| `/app/user1`/`/app/user2` ç­‰ | ä¸ºæ¯ä¸ªè´¦å·åˆ†é…ç‹¬ç«‹æœ¬åœ°è·¯å¾„ï¼ˆå¦‚ `/volume1/æŠ–éŸ³/è´¦å·A`ã€`/volume1/æŠ–éŸ³/è´¦å·B`ï¼‰ | å®ç°å¤šè´¦å·éš”ç¦»åŒæ­¥           |

> âœ… å…³é”®æ³¨æ„ï¼š  
> 1. æœ¬åœ°è·¯å¾„éœ€ä¸åç»­åå°ã€ŒæŠ–éŸ³æˆæƒã€é¡µé¢é…ç½®çš„ã€Œæ–‡ä»¶å­˜å‚¨è·¯å¾„ã€**å®Œå…¨ä¸€è‡´**ï¼›  
> 2. æœªé…ç½®è·¯å¾„æ˜ å°„æ—¶ï¼Œæ–‡ä»¶ä»…å­˜äºå®¹å™¨å†…éƒ¨ï¼ŒEmby/Jellyfin æ— æ³•è®¿é—®ï¼Œä¸”å®¹å™¨åˆ é™¤åæ•°æ®ä¸¢å¤±ã€‚

![è·¯å¾„é…ç½®ç¤ºä¾‹](docs/auth2.png)

---

## ğŸ”‘ 3. é»˜è®¤è´¦å·å¯†ç ï¼ˆé¦–æ¬¡ç™»å½•ç”¨ï¼‰
é¦–æ¬¡è®¿é—®åå°ç®¡ç†é¡µé¢æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹é»˜è®¤è´¦å·å¯†ç ï¼š
- **ç”¨æˆ·å**ï¼š`douyin`
- **å¯†ç **ï¼š`douyin2025`

> âš ï¸ å®‰å…¨å»ºè®®ï¼šç™»å½•åä¿®æ”¹å¯†ç ã€‚

---

## ğŸš€ 4. è¿è¡Œæ–¹å¼ï¼ˆæ¨è Docker Composeï¼Œæ›´æ˜“ç»´æŠ¤ï¼‰


# Dysync.net Docker é•œåƒç‰ˆæœ¬è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº† `jianzhichu/dysync.net` Docker é•œåƒçš„å„ä¸ªç‰ˆæœ¬ã€å…¶åŠŸèƒ½ç‰¹æ€§ã€é€‚ç”¨æ¶æ„ä»¥åŠé•œåƒå¤§å°ã€‚

## é•œåƒç‰ˆæœ¬æ€»è§ˆ

| é•œåƒæ ‡ç­¾                          | æ¶æ„           | åŠŸèƒ½æè¿°                                                                 | é•œåƒå¤§å°  | é€‚ç”¨åœºæ™¯                     |
|-----------------------------------|----------------|--------------------------------------------------------------------------|-----------|------------------------------|
| `jianzhichu/dysync.net:latest`    | x86_64 (amd64) | **æ ‡å‡†ç‰ˆ**<br>- åŒ…å«æ ¸å¿ƒåŠŸèƒ½<br>- **ä¸å« FFmpeg**<br>- ä¸èƒ½ä¸‹è½½å›¾æ–‡è§†é¢‘   | ~200M     | ä»…éœ€åŸºç¡€åŠŸèƒ½ï¼Œè¿½æ±‚è½»é‡éƒ¨ç½²   |
| `jianzhichu/dysync.net:full_latest` | x86_64 (amd64) | **å®Œæ•´ç‰ˆ**<br>- åŒ…å«å…¨éƒ¨æ ¸å¿ƒåŠŸèƒ½<br>- **å†…ç½® FFmpeg**<br>- æ”¯æŒå›¾æ–‡è§†é¢‘ä¸‹è½½ä¸åˆæˆ | ~700M     | éœ€è¦å®Œæ•´åª’ä½“å¤„ç†èƒ½åŠ›çš„åœºæ™¯   |
| `jianzhichu/dysync.net:arm_latest` | ARM64          | **ARM æ ‡å‡†ç‰ˆ**<br>- æ ¸å¿ƒåŠŸèƒ½ï¼ˆä¸ `latest` ä¸€è‡´ï¼‰<br>- **é€‚é… ARM æ¶æ„**   | ~200M     | ARM è®¾å¤‡ï¼ˆå¦‚æ ‘è“æ´¾ï¼‰çš„è½»é‡éƒ¨ç½² |
| `jianzhichu/dysync.net:full_arm_latest` | ARM64      | **ARM å®Œæ•´ç‰ˆ**<br>- å®Œæ•´åŠŸèƒ½ï¼ˆä¸ `full_latest` ä¸€è‡´ï¼‰<br>- **é€‚é… ARM æ¶æ„** | ~700M     | ARM è®¾å¤‡çš„å®Œæ•´åŠŸèƒ½éƒ¨ç½²       |
| `jianzhichu/dysync.net:beta_1.0`  | x86_64 (amd64) | **æµ‹è¯•ç‰ˆ v1.0**<br>- åŒ…å«æœ€æ–°å¼€å‘ç‰¹æ€§<br>- åŠŸèƒ½å¯èƒ½ä¸ç¨³å®š<br>- ä¸å« FFmpeg | ~200M     | å¼€å‘æµ‹è¯•ã€å°é²œæ–°åŠŸèƒ½         |

## æ„å»ºå‘½ä»¤ç¤ºä¾‹

ä»¥ä¸‹æ˜¯æ„å»ºä¸Šè¿°å„ç‰ˆæœ¬é•œåƒçš„ Docker å‘½ä»¤å‚è€ƒï¼š

```bash


å°†ä¸‹æ–¹å‘½ä»¤ä¸­çš„ã€Œæœ¬åœ°è·¯å¾„ã€æ›¿æ¢ä¸ºä½ çš„å®é™…è·¯å¾„ï¼Œç»ˆç«¯æ‰§è¡Œå³å¯ï¼š
```bash

### Armè®¾å¤‡è¯·ä½¿ç”¨ registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net:arm_1.0 ç‰ˆæœ¬é•œåƒ
### æ–¹å¼ä¸€ï¼šDocker å‘½ä»¤è¡Œ
docker run -d --restart=always \
  -v /ä½ çš„/æœ¬åœ°/æ”¶è—è§†é¢‘è·¯å¾„:/app/collect \
  -v /ä½ çš„/æœ¬åœ°/å–œæ¬¢è§†é¢‘è·¯å¾„:/app/favorite \
  -v /ä½ çš„/æœ¬åœ°/æ•°æ®åº“è·¯å¾„:/app/db \
  -v /ä½ çš„/æœ¬åœ°/åšä¸»è§†é¢‘è·¯å¾„:/app/uper \
  -p 10101:10101 \
  --name dysync2025 \
  registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net
# æ³¨æ„ï¼š-p åé¢çš„å®¹å™¨ç«¯å£å¿…é¡»ä¸º 10101ï¼ˆæºç å›ºå®šï¼‰


### æ–¹å¼äºŒï¼šDocker Compose è¿è¡Œï¼ˆæ¨èï¼‰
### Armè®¾å¤‡è¯·ä½¿ç”¨ registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net:arm_1.0 ç‰ˆæœ¬é•œåƒ
åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œæ›¿æ¢ã€Œæœ¬åœ°è·¯å¾„ã€åæ‰§è¡Œ docker-compose up -dï¼š

version: '3.8'

services:
  dysync:
    image: registry.cn-hangzhou.aliyuncs.com/jianzhichu/dysync.net
    container_name: dysync2025
    restart: always
    ports:
      - "10101:10101"
    volumes:
      - /volume1/docker/dysync/db:/app/db

      - /volume2/mediay/dysync:/app/collect
      - /volume2/mediay/dysync_fav:/app/favorite
      - /volume2/mediay/dysync_up:/app/uper
      # ä¸‹é¢æ˜¯å¤šè´¦å·è·¯å¾„æ˜ å°„ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰
      - /volume2/mediay/dysync2:/app/yeyeye  
      - /volume2/mediay/dysync2_fav:/app/yeyeye_fav  
      - /volume2/mediay/dysync2_up:/app/yeyeye_up
    # é…ç½®DNSæœåŠ¡å™¨ï¼ˆè§£å†³åŸŸåè§£æå¤±è´¥å¯¼è‡´çš„æ— æ³•è®¿é—®å¤–ç½‘ï¼‰
    network_mode: bridge
    dns:
      - 8.8.8.8  # Google DNS
      - 114.114.114.114  # å›½å†…DNS
      - 223.5.5.5 


```
## ğŸš€ 5. è½¯ä»¶æˆªå›¾

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/homepage.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/homepage_night.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/datalist.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/auth.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/logs.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](docs/set.png)


# æŠ–å°äº‘ åŠŸèƒ½æ›´æ–°æ¸…å•



1. âœ… æ”¶è—çš„è§†é¢‘

2. âœ… å–œæ¬¢çš„è§†é¢‘ï¼ˆç‚¹èµçš„è§†é¢‘ï¼‰

3. âœ… å›¾æ–‡è§†é¢‘ï¼ˆéœ€è¦å°†å›¾ç‰‡ + mp3 åˆæˆè§†é¢‘ï¼‰

4. âœ… æŒ‡å®šåšä¸»çš„è§†é¢‘

5. âœ… åšä¸»è§†é¢‘å¯é…ç½®æ˜¯å¦å•ç‹¬å­˜æ”¾ä¸€ä¸ªæ€»æ–‡ä»¶å¤¹ï¼Œæ˜¯å¦ç›´æ¥ç”¨è§†é¢‘æ ‡é¢˜åšæ–‡ä»¶å

6. âœ… å¢åŠ æ¸…é™¤æ—¥å¿—ï¼ˆé˜²æ­¢å®¹å™¨è¢«æ—¥å¿—å ç”¨å¤ªå¤šç©ºé—´ï¼Œå¯é…ç½®ä¿ç•™å¤©æ•°ï¼‰

7. âœ… ç•Œé¢ä¼˜åŒ–

8. âœ… å°†ç½‘é¡µåç§°æ”¹æˆ "æŠ–å°äº‘" çµæ„Ÿæ¥æºäºå“ªå’ç”µå½± é©®é—¨çš„é‚£ä¸ªå°äº‘äº‘

9. â˜ å¢åŠ é…ç½®æ˜¯å¦å¯¹ å‰é¢æ”¶è—çš„è§†é¢‘ã€å–œæ¬¢çš„è§†é¢‘ã€æŒ‡å®šåšä¸»çš„è§†é¢‘ è¿™ 3 ç±»è§†é¢‘è¿›è¡Œå»é‡ï¼ˆè€ƒè™‘åˆ°å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè§†é¢‘æ—¢ç‚¹èµäº†ï¼Œåˆæ”¶è—äº†ï¼Œå¯èƒ½è¿˜è¢«è®¾ç½®åˆ°äº†æŒ‡å®šåšä¸»ã€‚è¿™ç§æƒ…å†µä¼šå‡ºç°é‡å¤ä¸‹è½½ã€‚ï¼ˆè®¡åˆ’ä¸­ï¼‰